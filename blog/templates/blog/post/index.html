{% extends 'frontend/base.html' %}
{% load blog_tags %}
{% load static %}

{% block custom_css %}
<link rel="stylesheet" href="{% static 'blog/css/main.css' %}">
{% endblock %}

{% block title %}Blog - Posts{% endblock title %}

{% block body %}
{% include 'frontend/navbar.html' %}

<section class="blog">
    <div class="container grid_blog">
        <div class="title">
            <h1>LATE NIGHT BLOG - AQUÍ NADIE DUERME.</h1>
        </div>
        <div class="body flex-colum">
            {% if tag %}
            <h1>Aprende más sobre {{tag.name.lower}} con estos posts:</h1>
            {% else %}
            <h1>Mis posts más recientes:</h1>
            {% endif %}
            {% for post in posts %}
            <div class="post_card">
                <div class="post_card_picture">
                    <a href="{{post.get_absolute_url}}">
                        <img src="{{ post.thumbnail.url }}" alt="Current post thumbnail.">
                    </a>
                </div>

                <a href="{{post.get_absolute_url}}">
                    <h1 class="post_card_title">{{post.title}}</h1>
                </a>
                <div class="description">
                    {{post.description}}
                </div>
                <div class="tags">
                    Tags:
                    {% for tag in post.tags.all %}
                    <a href="{% url 'blog:posts_by_tag' tag.slug %}">{{tag.name}}</a>{% if not forloop.last %},
                    {% endif %}
                    {% endfor %}
                </div>
                <small class="small">Publicado: {{post.publish|date:'M d, Y'}}</small>
            </div>
            {% endfor %}
        </div>
        <div class="sidebar flex">
            <div class="recent_posts">
                <h3>Recemt Posts</h3>
                <ul>
                    <li>Qué es un proxy model?</li>
                    <li>Empezando con Linux. Un viaje a UNIX.</li>
                    <li>Django, el framework para perfeccionistas.</li>
                </ul>
            </div>
            <div class="hottest_topics">
                <h3>Hottest Topics</h3>
                <ul>
                    <li>Python asd asdas dasd asdas asdasdads</li>
                    <li>Django</li>
                    <li>HTML</li>
                </ul>
            </div>
        </div>
        <div class="pagination">
            {% include "frontend/pagination.html" with page=posts %}
        </div>
    </div>
</section>
{% include 'frontend/projects.html' %}
{% endblock body %}